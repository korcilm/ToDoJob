@model List<JobAllListDto>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

@if (Model.Count != 0)
{
    <!-- row -->
    <div class="row mt">
        <div class="col-md-12">
            <div class="content-panel">
                <div class="row">
                    <div class="col-md-10">
                        <h4><i class="fa fa-angle-right"></i> İş Emirleri</h4>
                    </div>
                    <div class="col-md-2">
                       
                    </div>
                </div>

                <hr>

                <table class="table table-striped table-advance table-hover">

                    <thead>
                        <tr>
                            <th><i class="fa fa-bullhorn"></i> Ad</th>
                            <th class="hidden-phone"><i class="fa fa-bookmark"></i> Tarih</th>
                            <th><i class="fa fa-question-circle"></i> Personel</th>
                            <th><i class=" fa fa-edit"></i> Aciliyet</th>
                            <th class="hidden-phone"><i class="fa fa-question-circle"></i> Rapor</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                        <tr>
                            <td>@item.Name</td>
                            <td  class="hidden-phone">@item.CreateDate</td>
                            <td>
                                @{
                                    if (item.AppUser == null)
                                    {
                                        <span class="label label-warning label-mini">Çalışan personel yok</span>
                                    }
                                    else
                                    {
                                        <span class="label label-success label-mini">@item.AppUser.Name çalışıyor</span>
                                    }
                                }
                            </td>
                            <td>@item.Aciliyet.Description</td>
                            <td  class="hidden-phone">@item.Raporlar.Count</td>
                            <td>
                                @{
                                    if (item.AppUser == null)
                                    {
                                        <a asp-action="AtaPersonel" asp-route-id="@item.Id" class="btn btn-info btn-sm"><i class="far fa-id-card mr-2"></i></a>
                                    }
                                    else
                                    {
                                        <a asp-action="Detail" asp-route-id="@item.Id" class="btn btn-info btn-sm"><i class="far fa-file-alt mr-2"></i></a>
                                    }
                                }
                            </td>
                                        
                        </tr>
                        }
                    </tbody>

                </table>
            </div>
            <!-- /content-panel -->
        </div>
        <!-- /col-md-12 -->
    </div>
    <!-- /row -->

}
else
{
    <div class="my-2 text-center lead">
        Herhangi bir görev bulunmamaktadırç
    </div>
}



